.#----------------------------------------------------------------------------------------------
.input|xhtml/1.0
.# Verify that the XHTML parser can understand anchors without the special anchor comment format
.# that the XHTML Renderer uses. Note that for now the HREF value is considered containing
.# XWiki link syntax.
.#----------------------------------------------------------------------------------------------
<p><a href="http://reference" data-xwiki-translated-attribute-param1="value1">http://reference</a></p>
.#-----------------------------------------------------
.expect|xwiki/2.0
.#-----------------------------------------------------
.#-----------------------------------------------------
.expect|event/1.0
.#-----------------------------------------------------
beginDocument
beginParagraph
beginLink [Typed = [true] Type = [url] Reference = [http://reference]] [false] [[param1]=[value1]]
onWord [http]
onSpecialSymbol [:]
onSpecialSymbol [/]
onSpecialSymbol [/]
onWord [reference]
endLink [Typed = [true] Type = [url] Reference = [http://reference]] [false] [[param1]=[value1]]
endParagraph
endDocument
.#-----------------------------------------------------
.expect|xwiki/2.0
.#-----------------------------------------------------
[[http:~~/~~/reference>>http://reference||param1="value1"]]
.#-----------------------------------------------------
.expect|xhtml/1.0
.#-----------------------------------------------------
<p><span class="wikiexternallink"><a data-xwiki-translated-attribute-param1="value1" href="http://reference">http://reference</a></span></p>